===================================== 
Datei: C:\xampp\React-Projects\task-manager\postcss.config.js 
===================================== 
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\tailwind.config.js 
===================================== 
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}

 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\vite.config.js 
===================================== 
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import { VitePWA } from "vite-plugin-pwa";

export default defineConfig({
  base: "/tasks/",
  plugins: [
    react(),
    VitePWA({
      registerType: "autoUpdate",
      includeAssets: [
        "favicon.svg",
        "favicon.ico",
        "robots.txt",
        "apple-touch-icon.png",
      ],
      manifest: {
        name: "Task Manager",
        short_name: "TaskManager",
        description: "A simple task manager app",
        theme_color: "#1c1917",
        background_color: "#f5f5f4",
        display: "standalone",
        start_url: "/tasks/",
        icons: [
          {
            src: "logo192.png",
            sizes: "192x192",
            type: "image/png",
          },
          {
            src: "logo512.png",
            sizes: "512x512",
            type: "image/png",
          },
        ],
      },
    }),
  ],
});
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\index.html 
===================================== 
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projektmanager</title>
  </head>
  <body class="bg-stone-50">
    <div id="modal-root"></div>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\index.css 
===================================== 
@tailwind base;
@tailwind components;
@tailwind utilities; 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\App.jsx 
===================================== 
import { useState, useEffect } from "react";
import ProjectsSideBar from "./components/ProjectsSidebar";
import NewProject from "./components/NewProject";
import NoProjectSelected from "./components/NoProjectSelected";
import SelectedProject from "./components/SelectedProject";

function App() {
  // Initialisierung des States aus localStorage (falls vorhanden)
  const [projectState, setProjectState] = useState(() => {
    const storedState = localStorage.getItem("projectState");
    return storedState
      ? JSON.parse(storedState)
      : {
          selectedProjectId: undefined,
          projects: [],
          tasks: [],
        };
  });

  // Persistierung des States im localStorage bei jeder Änderung
  useEffect(() => {
    localStorage.setItem("projectState", JSON.stringify(projectState));
  }, [projectState]);

  function handleAddTask(text) {
    setProjectState((prevState) => {
      const taskId = Math.random();
      const newTask = {
        text: text,
        projectId: prevState.selectedProjectId,
        id: taskId,
      };

      return {
        ...prevState,
        tasks: [...prevState.tasks, newTask],
      };
    });
  }

  function handleDeleteTask(id) {
    setProjectState((prevState) => ({
      ...prevState,
      tasks: prevState.tasks.filter((task) => task.id !== id),
    }));
  }

  function handleSelectProject(id) {
    setProjectState((prevState) => ({
      ...prevState,
      selectedProjectId: id,
    }));
  }

  function handleStartAddProject() {
    setProjectState((prevState) => ({
      ...prevState,
      selectedProjectId: null,
    }));
  }

  function handleCancelAddProject() {
    setProjectState((prevState) => ({
      ...prevState,
      selectedProjectId: undefined,
    }));
  }

  function handleAddProject(projectData) {
    setProjectState((prevState) => {
      const newProject = {
        ...projectData,
        id: Math.random(),
      };

      return {
        ...prevState,
        selectedProjectId: undefined,
        projects: [...prevState.projects, newProject],
      };
    });
  }

  function handleDeleteProject() {
    setProjectState((prevState) => ({
      ...prevState,
      selectedProjectId: undefined,
      projects: prevState.projects.filter(
        (project) => project.id !== prevState.selectedProjectId
      ),
    }));
  }

  // Bestimme das aktuell ausgewählte Projekt
  const selectedProject = projectState.projects.find(
    (project) => project.id === projectState.selectedProjectId
  );

  // Filtere die Tasks, die zum aktuell ausgewählten Projekt gehören
  const tasksForSelectedProject = projectState.tasks.filter(
    (task) => task.projectId === projectState.selectedProjectId
  );

  // Je nach ausgewähltem Zustand wird der passende Content gerendert
  let content = (
    <SelectedProject
      project={selectedProject}
      onDelete={handleDeleteProject}
      onAddTask={handleAddTask}
      onDeleteTask={handleDeleteTask}
      tasks={tasksForSelectedProject}
    />
  );

  if (projectState.selectedProjectId === null) {
    content = (
      <NewProject onAdd={handleAddProject} onCancel={handleCancelAddProject} />
    );
  } else if (projectState.selectedProjectId === undefined) {
    content = <NoProjectSelected onStartAddProject={handleStartAddProject} />;
  }

  return (
    <main className="h-screen my-8 flex flex-col md:flex-row gap-4 md:gap-8 px-4 md:px-8">
      <ProjectsSideBar
        onStartAddProject={handleStartAddProject}
        onSelectProject={handleSelectProject}
        projects={projectState.projects}
        selectedProjectId={projectState.selectedProjectId}
      />
      {content}
    </main>
  );
}

export default App;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\main.jsx 
===================================== 
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './index.css'

ReactDOM.createRoot(document.getElementById('root')).render(
  
    <App />
  ,
)
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\Button.jsx 
===================================== 
function Button({children, ...props}){
    return <button className="px-4 py-2 text-xs md:text-base rounded-md bg-stone-700 text-stone-400 hover:bg-stone-600 hover:text-stone-100" {...props}>
    {children}
  </button>
}

export default Button 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\Input.jsx 
===================================== 
function Input({ label, textarea, inputRef, ...props }) {
  const classes =
    "w-full p-1 border-b-2 rounded-sm border-stone-300 bg-stone-200 text-stone-600 focus:outline-none focus:border-stone-600";

  return (
    <p className="flex flex-col gap-1 my-4">
      <label className="text-sm font-bold uppercase text-stone-500">
        {label}
      </label>
      {textarea ? (
        <textarea ref={inputRef} className={classes} {...props} />
      ) : (
        <input ref={inputRef} className={classes} {...props} />
      )}
    </p>
  );
}

export default Input;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\Modal.jsx 
===================================== 
import { useImperativeHandle, useRef } from "react";
import { createPortal } from "react-dom";
import Button from "./Button";

function Modal({ children, buttonCaption, ref }) {
    const dialog = useRef()

  useImperativeHandle(ref, ()=>{
    return {
        open() {
            dialog.current.showModal()
        }
    }
  })

  return createPortal(
    <dialog ref={dialog} className="backdrop:bg-stone-900/90 p-4 rounded-md shadow-md">{children}
        <form method="dialog" className="mt-4 text-right">
            <Button>{buttonCaption}</Button>
        </form>
    </dialog>,
    document.getElementById("modal-root")
  );
}
export default Modal;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\NewProject.jsx 
===================================== 
import { useRef, useState } from "react";
import Input from "./Input";
import Modal from "./Modal";

function NewProject({ onAdd, onCancel }) {
  const modal = useRef();
  const title = useRef();
  const description = useRef();
  const dueDate = useRef();

  // State für die Dringlichkeitsstufe (initial keine Auswahl)
  const [selectedUrgency, setSelectedUrgency] = useState(null);

  // Definition der vier Optionen mit passender Beschriftung
  const urgencyOptions = [
    { value: 1, label: "dringend und wichtig" },
    { value: 2, label: "dringend und nicht wichtig" },
    { value: 3, label: "nicht dringend und wichtig" },
    { value: 4, label: "nicht dringend und nicht wichtig" },
  ];

  // Mapping der Dringlichkeitsfarben:
  // - dot: Farbe des kleinen Punkts
  // - active: Button übernimmt bei Auswahl die volle Hintergrundfarbe, abgerundet und mit Schatten
  // - inactive: Standardzustand – heller Hintergrund (der sich vom Weiß abhebt), abgerundet und mit Schatten
  const urgencyStyles = {
    1: {
      dot: "bg-red-500",
      active: "bg-red-700 text-white rounded-md shadow-md",
      inactive: "bg-stone-200 text-stone-700 rounded-md shadow-sm",
    },
    2: {
      dot: "bg-orange-500",
      active: "bg-orange-700 text-white rounded-md shadow-md",
      inactive: "bg-stone-200 text-stone-700 rounded-md shadow-sm",
    },
    3: {
      dot: "bg-blue-500",
      active: "bg-blue-700 text-white rounded-md shadow-md",
      inactive: "bg-stone-200 text-stone-700 rounded-md shadow-sm",
    },
    4: {
      dot: "bg-green-500",
      active: "bg-green-700 text-white rounded-md shadow-md",
      inactive: "bg-stone-200 text-stone-700 rounded-md shadow-sm",
    },
  };

  function handleSave() {
    const enteredTitle = title.current.value;
    const enteredDescription = description.current.value;
    const enteredDueDate = dueDate.current.value;

    // Validation: Es müssen alle Felder ausgefüllt sein und eine Dringlichkeitsstufe ausgewählt sein
    if (
      enteredTitle.trim() === "" ||
      enteredDescription.trim() === "" ||
      enteredDueDate.trim() === "" ||
      selectedUrgency === null
    ) {
      modal.current.open();
      return;
    }

    onAdd({
      title: enteredTitle,
      description: enteredDescription,
      dueDate: enteredDueDate,
      urgency: selectedUrgency, // Die ausgewählte Dringlichkeitsstufe (als Zahl 1-4)
    });
  }

  return (
    <>
      <Modal ref={modal} buttonCaption="Okay">
        <h2 className="text-xl font-bold text-stone-700 my-4">
          Ungültige Eingabe
        </h2>
        <p className="text-stone-600 mb-4">Uuuups...</p>
        <p className="text-stone-600 mb-4">
          Bitte stellen Sie sicher, dass Sie für jedes Eingabefeld einen
          gültigen Wert angeben.
          {selectedUrgency === null &&
            " (Bitte wählen Sie eine Dringlichkeitsstufe aus)"}
        </p>
      </Modal>
      <div className="w-full mt-8 md:mt-16 mr-0 md:mr-4">
        <menu className="flex items-center justify-end gap-4 my-4">
          <li>
            <button
              className="text-stone-800 hover:text-stone-950"
              onClick={onCancel}
            >
              Abbrechen
            </button>
          </li>
          <li>
            <button
              className="px-6 py-2 rounded-md bg-stone-950 text-stone-50 hover:bg-stone-700"
              onClick={handleSave}
            >
              Speichern
            </button>
          </li>
        </menu>
        <div>
          <Input type="text" inputRef={title} label="Titel" />
          <Input inputRef={description} label="Beschreibung" textarea />
          <Input type="date" inputRef={dueDate} label="Fälligkeit" />

          {/* Button-Gruppe zur Auswahl der Dringlichkeit */}
          <div className="flex flex-col gap-2 my-4">
            <label className="text-sm font-bold uppercase text-stone-500">
              Dringlichkeit
            </label>
            {urgencyOptions.map((option) => {
              const isSelected = selectedUrgency === option.value;
              const dotColor = urgencyStyles[option.value].dot;
              const buttonClasses = isSelected
                ? urgencyStyles[option.value].active
                : urgencyStyles[option.value].inactive;
              return (
                <button
                  key={option.value}
                  onClick={() => setSelectedUrgency(option.value)}
                  className={`w-full text-left px-2 py-1 flex items-center transition-colors duration-200 ${buttonClasses}`}
                >
                  {/* Farbig sichtbarer Punkt */}
                  <span
                    className={`inline-block w-3 h-3 rounded-full mr-2 ${dotColor}`}
                  />
                  {option.label}
                </button>
              );
            })}
          </div>
        </div>
      </div>
    </>
  );
}

export default NewProject;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\NewTask.jsx 
===================================== 
import { useState } from "react";

function NewTask({ onAdd }) {
  const [enteredTask, setEnteredTask] = useState("");

  function handleChange(event) {
    setEnteredTask(event.target.value);
  }

  function handleClick() {
    if (enteredTask.trim() !== "") {
      onAdd(enteredTask);
      setEnteredTask("");
    }
  }

  return (
    <div className="flex items-center gap-4">
      <input
        type="text"
        className="w-64 px-2 py-1 rounded-sm bg-stone-200"
        onChange={handleChange}
        value={enteredTask}
      />
      <button
        className="py-1 px-2 md:px-3 text-xs md:text-sm rounded-md bg-stone-500 text-stone-100 hover:bg-stone-600 transition-colors duration-200"
        onClick={handleClick}
      >
        Aufgabe hinzufügen
      </button>
    </div>
  );
}

export default NewTask;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\NoProjectSelected.jsx 
===================================== 
import Button from "./Button";
import noProjectImage from "../assets/no-projects.png";

function NoProjectSelected({ onStartAddProject }) {
  return (
    <div className="mt-24 text-center w-full md:w-2/3">
      <img
        src={noProjectImage}
        alt="An empty task list"
        className="w-16 h-16 object-contain mx-auto"
      />
      <h2 className="text-xl font-bold text-stone-500 my-4">
        Kein Projekt gewählt
      </h2>
      <p className="text-stone-400 mb-4">
        Wählen Sie ein Projekt aus oder beginnen Sie mit einem neuen Projekt.
      </p>
      <p className="mt-8">
        <Button onClick={onStartAddProject}>Neues Projekt erstellen</Button>
      </p>
    </div>
  );
}

export default NoProjectSelected;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\ProjectsSidebar.jsx 
===================================== 
import Button from "./Button.jsx";

function ProjectsSideBar({
  onStartAddProject,
  projects,
  onSelectProject,
  selectedProjectId,
}) {
  // Mapping der Dringlichkeitsstufen zu Farbstilen (Tailwind-Klassen)
  const urgencyStyles = {
    1: { normal: "bg-red-500 text-white", selected: "bg-red-700 text-white" },
    2: {
      normal: "bg-orange-500 text-white",
      selected: "bg-orange-700 text-white",
    },
    3: { normal: "bg-blue-500 text-white", selected: "bg-blue-700 text-white" },
    4: {
      normal: "bg-green-500 text-white",
      selected: "bg-green-700 text-white",
    },
  };

  // Sortiere die Projekte anhand der Dringlichkeit (niedriger Wert = höhere Priorität)
  const sortedProjects = [...projects].sort(
    (p1, p2) => p1.urgency - p2.urgency
  );

  return (
    <aside className="w-full px-8 py-16 bg-stone-900 text-stone-50 md:w-72 rounded-xl">
      <h2 className="mb-8 font-bold uppercase md:text-xl text-stone-200">
        Projekt
      </h2>
      <div>
        <Button onClick={onStartAddProject}>+ Projekt hinzufügen</Button>
      </div>
      <ul className="mt-8">
        {sortedProjects.map((project) => {
          const isSelected = project.id === selectedProjectId;
          const urgency = project.urgency;
          const style = urgencyStyles[urgency] || urgencyStyles[4];
          // Basis-CSS-Klassen plus die farbliche Markierung je nach Dringlichkeit
          let cssClasses =
            "w-full text-left px-2 py-1 rounded-sm my-1 " +
            (isSelected ? style.selected : style.normal);
          return (
            <li key={project.id}>
              <button
                onClick={() => onSelectProject(project.id)}
                className={cssClasses}
              >
                {project.title}
              </button>
            </li>
          );
        })}
      </ul>
    </aside>
  );
}

export default ProjectsSideBar;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\SelectedProject.jsx 
===================================== 
import { useState } from "react";
import Tasks from "./Tasks";

function SelectedProject({
  project,
  tasks,
  onDelete,
  onAddTask,
  onDeleteTask,
}) {
  // State, um den Aufgabenbereich ein- bzw. auszublenden; standardmäßig ausblenden
  const [showTasks, setShowTasks] = useState(false);

  const formattedDate = new Date(project.dueDate).toLocaleDateString("de-DE", {
    year: "numeric",
    month: "short",
    day: "numeric",
  });

  return (
    <div className="w-full mt-8 md:mt-16 mr-0 md:mr-4">
      <header className="pb-4 mb-4 border-b-2 border-stone-300">
        <div className="flex items-center justify-between">
          <h1 className="text-3xl font-bold text-stone-600 mb-2">
            {project.title}
          </h1>
          <button
            className="text-stone-600 hover:text-stone-950"
            onClick={onDelete}
          >
            LÖSCHEN
          </button>
        </div>
        <p className="mb-4 text-stone-400">{formattedDate}</p>
        <p className="text-stone-600 whitespace-pre-wrap">
          {project.description}
        </p>
        {/* Toggle-Button im Header – jetzt mit mehr Sichtbarkeit */}
        <div className="mt-4">
          <button
            className="text-sm font-medium text-stone-600 bg-stone-300 hover:bg-stone-400 focus:outline-none rounded-md px-3 py-1 transition-colors duration-200"
            onClick={() => setShowTasks(!showTasks)}
          >
            {showTasks ? "Aufgaben ausblenden" : "Aufgaben einblenden"}
          </button>
        </div>
      </header>
      {/* Aufgabenbereich mit sanfter Transition ein-/ausblenden */}
      <div
        className={`overflow-hidden transition-all duration-300 ease-in-out ${
          showTasks ? "max-h-[1000px]" : "max-h-0"
        }`}
      >
        <Tasks onAdd={onAddTask} onDelete={onDeleteTask} tasks={tasks} />
      </div>
    </div>
  );
}

export default SelectedProject;
 
===================================== 
Datei: C:\xampp\React-Projects\task-manager\src\components\Tasks.jsx 
===================================== 
import NewTask from "./NewTask";

function Tasks({tasks, onAdd, onDelete}) {
  return (
    <section>
      <h2 className="text-2xl font-bold text-stone-700 mb-4">Aufgaben</h2>
      <NewTask onAdd={onAdd} />

      {tasks.length === 0 && (
        <p className="text-stone-800 my-4">
          Dieses Projekt hat noch keine Aufgaben.
        </p>
      )}
      {tasks.length > 0 && (
        <ul className="p-4 mt-8 rounded-md bg-stone-100">
          {tasks.map((task) => {
            return (
              <li key={task.id} className="flex justify-between my-4">
                <span>{task.text}</span>
                <button className="px-2 py-1 bg-stone-500 rounded-md text-stone-100 hover:bg-red-500"onClick={() => onDelete(task.id)}>Entfernen</button>
              </li>
            );
          })}
        </ul>
      )}
    </section>
  );
}

export default Tasks;
 
